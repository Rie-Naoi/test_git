# Git もう怖くないGit！チーム開発で必要なGitを完全マスター

## 01 はじめに、コースについて

### このコースの目的

- バージョン管理は何のためにやるのか
- コアコンセプトは？
- どのような仕組みで管理しているのか？
- コミットの裏側ではどんなことがおきているのか？
- 誤った変更を元に戻すには？
- ブランチやマージの運用方法
- コンフリクトの解消方法
- リベースとは？
- 変更内容を一時的に避難させる方法
- GitHubを用いてのチーム開発の進め方

---

## 02 なんのために使うのか

### 何のために使うのか？→バージョンを管理するため

管理しなかった場合、最新のファイルがどれかわからなくなってしまう。
1人で管理ならいいが複数人だとわからなくなってしまう。
管理をすれば、いつ・誰が・何を変更したかもわかるようになる。
上書きしようとすると警告が出る。

---

## 03 Gitの歴史

リーナス・トーバルズ
<https://ja.wikipedia.org/wiki/%E3%83%AA%E3%83%BC%E3%83%8A%E3%82%B9%E3%83%BB%E3%83%88%E3%83%BC%E3%83%90%E3%83%AB%E3%82%BA>
Linuxを作った人
Linuxカーネル開発で利用していたバージョン管理システムのライセンスが変更されしようできなくなった。
既存のソフトで管理できるものがなかった。
2005年頃、Gitの原型となるプログラムの開発が開始された。
他のソフトだと、ブランチを切ったりマージしたりするのに時間がかかった。
開発を迅速に行えるように開発された。

- スピード
- シンプルな設計
- ブランチが並列で開発可能
- 大規模プロジェクトを効率的に取り扱える

---

## 04 GitHubってなんなのか

Chris Wanstrathが友達とコードをシェアしやすいものを作った。
オンライン上でコードの変更内容を預かってくれる。

### 特徴

プルリクエストによる複数人開発ができる。
世界中のチームがGitHub上で開発している。
オープンソース開発がしやすくなった。

### Gitリポジトリのホスティングサービス

- GitHub 非公開は有料、公開は無料
- Bitbucket 非公開が無料、スモールチームでの非公開プロジェクト向き

---

## 05 コースを受講するにあたって

補足説明テキストベース

>セクション02と03は、さらっと進めて問題ないぐらい昨日の勉強した内容が頭に入っているといいな（感想）

---

## 06 Gitのインストール（MacOS）

### インストール

デフォでGitが入っている。
ターミナルから確認できる。

>講座で使われているiTerm2を入れてみた。
→色がついてわかりやすい。
<https://webrandum.net/iterm2/>

### Gui

- Git GUI / ターミナルでgit guiと打つと開く
- Souecetree / 使ったこあとある。アトラシアンのやつだ。
  <https://www.sourcetreeapp.com/>
- GitKraken / 渡辺さんが教えてくれたやつだ。Udemy終わったら入れてみよう
  <https://www.gitkraken.com/>

>GUIの画面はこの講座が終わったら触ってみる

---

## 07 Gitのインストール（Win）

>私が利用している環境はMacなので今回は聞き流す。
問題があれば、gitのサイトで確認すれば良いと思われる。

---

## 08 Atomのインストール（Mac）

>すでにインストールしてあって利用しているが、
渡辺さんからvscodeがおすすめということでそれも入れてみることにする。
<https://eng-entrance.com/texteditor-vscode>
ここに書かれている手順で入れてみる。
→すでに入っていた笑
→atomからvscodeへ編集移動
→日本語化へ設定変更
→マークダウン拡張設定
<https://qiita.com/kumapo0313/items/a59df3d74a7eaaaf3137>
→環境構築完了！拡張子をtxtからmdに変更した。
まだマークダウン形式ですべてかけてはいないが。

---

## 09 Atomのインストール（win）

>ウィンドウズでは設定しないため、ここは読み飛ばすが、マークダウン方式に拡張子を変更したところ、エラーをたくさんはいたので修正しておく。
2020/03/06：昨日の復習で一回pushしてみる。

---

## 10 GitHubの登録

>すでに登録しているのでさらっと映像みて終わりにする。
リスト表記にこのファイルを書き直した。

---

## 11 Gitの初期設定

>これも設定終わっているので映像流してみる。
復習のため、以下コードを記載しておく。

- ユーザー名の登録

    ```bash
    git config --global user.name "***"
    ```

- メールアドレスの登録

    ```bash
    git config --global user.email "**@**.com"
    ```

- デフォルトコードエディタの登録（VSCode)

    ```bash
    git congig --global core.editor 'code --wait'
    ```

- ユーザー名の確認

    ```bash
    git config user.name
    ```

- メールアドレスの確認

    ```bash
    git config user.email
    ```

- デフォルトコードエディタの確認

    ```bash
    git config core.editor
    ```

- 一度に確認したい場合

    ```bash
    git config --list
    ```

- みやすく表示できる（ファイルの内容を表示する）

    ```bash
    cat ~/.gitconfig
    ```

---

## 12 ターミナルの搬出コマンド

テキストだけ記載のセッション

コマンド | 内容
:--- | :---
cd | ディレクトリを移動
ls | ディレクトリの内容を表示
ls-a | 隠しファイルを含めたディレクトリ全内容を表示
mkdir | ディレクトリを新規作成
rm | ファイルを削除
cp | ファイルをコピー
mv | ファイルの移動とファイル名の変更
cat | ファイルの中身を表示

---

## 13 Gitの基本的な仕組みをしろう

前回の初級編の復習として活用する。

Gitはスナップショットを記録する。（差分ではない）
理由：ブランチを切ったりマージしたりするから。

バージョン管理（コミット）することで以前の状態に戻せる。

---

## 14 Gitの操作の流れを掴もう

これも前回の初級編の復習として活用する。
流れ | 内容
:--- | :---
1. | 自分のPC（ローカルリポジトリ）でスナップショットを記録
2. | GitHub（リモートリポジトリ）へアップロード

ローカルは3つのエリアに分かれている。

流れ | 名称 |　内容
:--- | :--- | :---
1. | ワークツリー | ファイルを変更する作業場
2. | ステージ | コミットする変更を準備（git add）
3. | ローカルリポジトリ | スナップショットを記録（git commit）

---

## 15 Gitってどのようにデータを管理しているのか

データのデータ構造はどのようになっているのか？
裏側ではどのような動きをしているのか？

リポジトリには、以下3種類のファイルが作られている。
（コミットまでの流れ）

流れ | 名称 |　内容
:--- | :--- | :---
1. | 圧縮ファイル | ファイル内容を圧縮したもの
2. | ツリー1| ファイル構成を記録したもの
3. | コミット1 | ツリー1、作成者、日付、コミットメッセージ

---

## 16 Gitはどのようにデータを管理しているのか2

- リポジトリに「圧縮ファイル」「ツリー」「コミット」ファイルを作成することでデータを保存している。

- コミットが親コミットを持つことで変更履歴をたどることができる。

- Gitの本質はデータを圧縮して、スナップショットで保存していること。

---

## 17 Gitのデータ管理の補足

### Gitオブジェクト

git addやgit commitした時に作られるファイル（3種類）
「.git/objects」ディレクトリの下に保存されます。

#### blob（ブロブ）オブジェクト

blob（ブロブ）というのはカタマリという意味。
ファイルの中身を圧縮しただけのカタマリということ。
ファイル名はハッシュID
ヘッダー（ファイル内容の文字数など、ファイルのメタ情報）とファイル内容を、SHA-1というハッシュ関数で40文字の英数字に変換したもの。
ハッシュIDのうち、先頭2文字をディレクトリ名に、残り38文字をファイル名にして保存します。

- ハッシュIDの確認方法

    ```bash
    git hash-object second.md
    ```

#### treeコマンドのインストール方法

＜Macの場合＞

- Homebrewを使ってインストールする。

    ターミナルで下記コマンドを実行する。

    ```bash
    brew install tree
    ```

- ファイル構造を表示

    ```bash
    tree .git
    ```

- masterブランチ上での最後のコミットが指しているツリーファイルの中身を表示

    ```bash
    git cat-file -p master^{tree}
    ```

---

## 18 Gitを始めよう

### ローカルリポジトリの作成

- ターミナルを開く

- プロジェクトのディレクトリ作成

    ```bash
    cd ~/desktop
    mkdir udemy_code
    cd udemy_code
    mkdir git_tutorial
    ```

- ディレクトリに移動

    ```bash
    cd git_tutorial
    ```

- ローカルリポジトリの作成

    .gitディレクトリが作成される
    （リポジトリ、インデックスファイル、設定ファイル）

    ```bash
    git init
    ```

---

### GitHub上にあるプロジェクトから始めよう

- Gitリポジトリのコピーを作成する

    ファイルと.gitディレクトリがコピーされる

    ```bash
    git clone "コピー"
    ```

    例：GitHubにあるAtomのデータをコピーしてみる
    <https://github.com/atom/atom>

    ```bash
    cd ~/desktop/test_git
    git clone https://github.com/atom/atom.git
    ```

    100%になったら、ちゃんと落ちているかを確認する

    ```bash
    cd atom
    ls -a
    ```

---

## 20 変更をステージに追加しよう

ステージはなぜあるのか？  
コミットする変更を準備するため  

- 変更をステージに追加する

    ```bash
    git add <ファイル名>
    git add <ディレクトリ名>
    git add .
    ```

---

## 21 変更を記録しよう
